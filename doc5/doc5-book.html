<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generated Book</title>
    
    <!-- Paged.js -->
    <script src="https://unpkg.com/pagedjs/dist/paged.polyfill.js"></script>
    
    <style>
        @page {
            size: A6;
            margin: 15mm;
        }
        
        body {
            font-family: 'Times New Roman', serif;
            font-size: 12pt;
            line-height: 1.4;
            text-align: justify;
            hyphens: auto;
        }
        
        h1 {
            font-size: 18pt;
            text-align: center;
            margin-bottom: 20pt;
            page-break-after: always;
        }
        
        h2 {
            font-size: 14pt;
            margin: 15pt 0 10pt 0;
            page-break-after: avoid;
        }
        
        p {
            margin-bottom: 10pt;
            text-indent: 1em;
        }
        
        .page-break {
            page-break-before: always;
        }
        
        .extracted-term {
            font-weight: bold;
            color: #333;
        }
        
        .poetry-line {
            margin-bottom: 5pt;
            text-indent: 0;
        }
    </style>
</head>
<body>
    <!-- Book content will be injected here by JavaScript -->
    <div id="book-content">
        <h1>Loading...</h1>
        <p>Generating your book...</p>
    </div>
    
    <script>
        // Get book data from URL parameters or localStorage
        document.addEventListener('DOMContentLoaded', function() {
            const bookData = JSON.parse(localStorage.getItem('bookData') || '{}');
            
            if (bookData.content) {
                document.getElementById('book-content').innerHTML = bookData.content;
                
                // Apply dynamic styles
                if (bookData.fontSize) {
                    document.body.style.fontSize = bookData.fontSize + 'pt';
                }
                if (bookData.lineHeight) {
                    document.body.style.lineHeight = bookData.lineHeight;
                }
            } else {
                document.getElementById('book-content').innerHTML = 
                    '<h1>No Content</h1><p>Please generate content from the editor first.</p>';
            }
        });
    </script>
</body>
</html>